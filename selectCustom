<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>下拉箭头样式</title>
    <style>
        * {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .timeBox {
            width: 90px;
            height: 30px;
            border: 1px solid #97C0E1;
            display: flex;
            cursor: pointer;
        }

        .timeTxt {
            width: 70px;
            height: 100%;
            line-height: 30px;
            text-align: center;
        }

        .selectIco {
            width: 20px;
            height: 100%;
            background: #97C0E1;
        }

        .selectIcoIn {
            width: 100%;
            height: 100%;
            background: url("img/xia.png") no-repeat;
            background-size: 100% 100%;
        }

        .timeUl {
            width: 90px;
            line-height: 30px;
            text-align: center;
            border: 1px solid #97C0E1;
            display: none;
        }

        .timeUl li {
            cursor: pointer;
        }

        .timeUl li:hover {
            background: #97C0E1;
            color: #fff;
        }
    </style>
</head>
<body>
<div class="box">
    <div>
        <div class="timeBox">
            <div class="timeTxt"></div>
            <div class="selectIco">
                <div class="selectIcoIn"></div>
            </div>
        </div>
        <ul class="timeUl"></ul>
    </div>
</div>
<script src="../plugin/jquery.js"></script>
<script>
    var date = new Date(),
        year = date.getFullYear();
    $(".timeTxt").text(year + "年");
    $(".timeUl").append(
        `<li>${year}年</li>
            <li>${year - 1}年</li>
            <li>${year - 2}年</li>`
    );
    $(".timeBox").click(function () {
        if ($(".timeUl").is(":hidden")) {
            $(".timeUl").css("display", "block");
        } else {
            $(".timeUl").css("display", "none");
        }

    });
    function stopPropagation(e) {//把事件对象传入
        if (e.stopPropagation) { //支持W3C标准
            e.stopPropagation();
        }
        else {  //IE8及以下浏览器
            e.cancelBubble = true;
        }
    }
    $(document).bind('click', function () {
        $(".timeUl").css('display', 'none');
    });

    $('.timeBox').bind('click', function (e) {
        stopPropagation(e);
    });
    $('.timeUl li').click(function () {
        $(".timeTxt").text($(this).text());

    });
</script>
</body>
</html>
